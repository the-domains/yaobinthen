<!DOCTYPE html>
<html dir="ltr" lang="en"><head><title>polling in relay</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <meta name="generator" content="The Grid the-composer/ds-d4/1.1.11">
  <meta name="the-grid-solution" content="883d7e24-79bd-44ec-a855-b07b5b8cacf9">
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.16/webfont.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/babel-polyfill/6.9.1/polyfill.js"></script>
  <link rel="stylesheet" href="https://cdn.thegrid.io/design-systems/the-composer/ds-nj/v1.1.11/assets/styles/css/style.css" type="text/css" />
  <link rel="stylesheet" href="https://cdn.thegrid.io/design-systems/the-composer/ds-nj/v1.1.11/assets/styles/css/animations.css" type="text/css" />
  <link rel="stylesheet" href="https://cdn.thegrid.io/design-systems/the-composer/ds-nj/v1.1.11/assets/styles/css/props.css" type="text/css" />
  <link rel="stylesheet" href="https://cdn.thegrid.io/design-systems/the-composer/ds-nj/v1.1.11/assets/styles/css/focalpoint.css" type="text/css" />
  <style id="web-font-binder" type="text/css">html { font-family: '-apple-system', '.SFNSText-Regular', 'San Francisco', 'Roboto', 'Segoe UI', 'Helvetica Neue', 'Lucida Grande', 'sans-serif';font-weight: 400; } html.wf-active { font-family: 'Open Sans', '-apple-system', '.SFNSText-Regular', 'San Francisco', 'Roboto', 'Segoe UI', 'Helvetica Neue', 'Lucida Grande', 'sans-serif';font-weight: 400; } .wf-active .font-title, .wf-active .font-headline, .wf-active .font-h1, .wf-active .font-h2, .wf-active .font-h3 { font-family: 'Fjalla', '-apple-system', '.SFNSText-Regular', 'San Francisco', 'Roboto', 'Segoe UI', 'Helvetica Neue', 'Lucida Grande', 'sans-serif';font-weight: 700; } .wf-active .font-subtitle, .wf-active .font-h4, .wf-active .font-h5, .wf-active .font-h6 { font-family: 'Fjalla', '-apple-system', '.SFNSText-Regular', 'San Francisco', 'Roboto', 'Segoe UI', 'Helvetica Neue', 'Lucida Grande', 'sans-serif';font-weight: 700; } .wf-active .font-text, .wf-active .font-list { font-family: 'Open Sans', '-apple-system', '.SFNSText-Regular', 'San Francisco', 'Roboto', 'Segoe UI', 'Helvetica Neue', 'Lucida Grande', 'sans-serif'; } .wf-active .font-quote { font-family: 'Fjalla', '-apple-system', '.SFNSText-Regular', 'San Francisco', 'Roboto', 'Segoe UI', 'Helvetica Neue', 'Lucida Grande', 'sans-serif';font-weight: 700;font-style: normal; } .wf-active .font-cta { font-family: 'Fjalla', '-apple-system', '.SFNSText-Regular', 'San Francisco', 'Roboto', 'Segoe UI', 'Helvetica Neue', 'Lucida Grande', 'sans-serif'; }</style><script type="text/javascript" role="google-analytics">
    (function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-73797886-1', 'auto');
    ga('send', 'pageview');
    </script><link rel="alternate" type="application/rss+xml" title="RSS" href="./rss.xml"/></head><body><div id="app"><div id="wrapper" class="System color-bg Brockmann section-h-padding-small section-v-padding-small hero-transition-none m-t-4  colors-dark colors-global " data-reactroot="" data-reactid="1" data-react-checksum="-1624172821"><!-- react-empty: 2 --><section class="Section Section--components-1 Section--list Section--nav title-size-medium p-0 ms-p-3  colors-dark colors-global " data-reactid="3"><div class="Component p-l-1 p-r-3 ms-p-h-2 ms-fx-r j-c-between Nav--list-row color-box color-text-pop bx-sh-soft" data-reactid="4"><!-- react-empty: 5 --><div class="Site-title color-text-pop pos-r t-2rem ms-t-1rem w-s-wrap ms-w-s-nowrap f-s-s ms-f-s-m z-20" data-reactid="6"><span data-reactid="7"><!-- react-empty: 8 --><a href="index.html" data-reactid="9">yaobinthen</a></span></div><!-- react-text: 10 --><!-- /react-text --></div></section><div class="Items min-h-80vh" data-reactid="11"><section id="section-ArticleSiteHeaderFallback-header-item-0" class="Section Section--components-1 color-title title-size-medium p-0 color-bg text-align-center  colors-black colors-global " data-reactid="12"><div class="Component p-0 p-h-1 " data-reactid="13"><div class="Group Group--column min-w-240px p-1 m-a" data-reactid="14"><!-- react-empty: 15 --><!-- react-empty: 16 --><h4 class="font-title" data-reactid="17">yaobinthen | tech blog</h4></div></div></section><section id="section-ArticleFallback-f95eb703-210c-49b3-beb0-15704f2a05d3" class="Section Section--article color-bg color-title color-text w-100p p-1 ms-p-2  colors-dark colors-global " data-reactid="18"><div class="Component max-w-768px m-a pos-r p-2" data-reactid="19"><p>Click inside to see how I managed to do polling in Relay.</p><p>Recently I have been working on a chat related app using Relay + React Native, and came across a problem that has been a show blocker for a week.</p><p>Relay has been designed for infinite scrolling rather than pagination. Due to this nature, getting previous chats were easy, but not for getting newest messages. When you get current available messages, Relay assumes there's no more newer messages. An obvious example is Facebook, you can scroll indefinitely down, but you tends to refresh the page to get the back to the top for newer feeds.</p><p>However it is not ideal to trigger a <i>forceFetch</i> to get all the data again especially on a mobile device.</p><p>After a week of struggle, the answer was actually quite obvious, which is to use another field, <i>newMessages</i> which returns a list of new messages given a timestamp, together with the original <i>messagesConnection</i> which returns the messages during first load and messages in the past. By having Relay to return two array of data, I have to maintain a copy of the combined data to be displayed.</p><p>Now, to poll for new messages, I simply supply the timestamp to <i>newMessages </i>at an interval, using Relay's <i>setVariables.</i></p><p>See this <a href="http://stackoverflow.com/questions/35129716/how-to-fetch-for-new-edge-using-polling-method">stackoverflow post</a> for more technical detail.</p></div></section></div><section id="Footer3col" class="Section Section--components-2 Section--footer color-bg color-title z-30 p-1 ms-p-h-2vw  colors-black colors-local " data-reactid="20"><div class="fx-1 bd-none ms-bd-r ms-bd-w-1" data-reactid="21"><div class="Group Group-heading ms-p-r-4" data-reactid="22"><div class="Site-title color-text-pop" data-reactid="23"><span data-reactid="24"><!-- react-empty: 25 --><h2 class="font-title" data-reactid="26"><a href="index.html" data-reactid="27">polling in relay</a></h2></span></div></div></div><div class="fx-1" data-reactid="28"><div class="Group Group--links" data-reactid="29"><div class="Group Group--links f-s-m ms-f-s-s w-s-wrap ms-w-s-nowrap" data-reactid="30"></div></div></div></section></div></div>
    <script src="https://cdn.thegrid.io/design-systems/the-composer/ds-nj/v1.1.11/assets/scripts/placeholder.js"></script>
    <script src="https://cdn.thegrid.io/design-systems/the-composer/ds-nj/v1.1.11/assets/scripts/hero-transition.js"></script>
    <script src="https://cdn.thegrid.io/design-systems/the-composer/ds-nj/v1.1.11/assets/scripts/slider.js"></script>
  <script src="https://cdn.thegrid.io/design-systems/the-composer/ds-nj/v1.1.11/assets/scripts/navList.js"></script><script id="pageReactInitState">window.pageReactInitState = {"items":{"site-navigation-item":{"id":"site-navigation-item","index":0,"metadata":{"@type":"navigation","starred":true},"content":[{"id":"site-navigation-block","type":"navigation","_html":"","metadata":{"starred":true},"navigation":[{"href":"index.html","title":"yaobinthen | tech blog","rel":"home","type":"MainPage"}]}]},"header-item-0":{"id":"header-item-0","index":1,"metadata":{"@type":"header","starred":true},"content":[{"id":"cta-title-1","type":"h1","_text":"yaobinthen | tech blog","_html":"<h1>yaobinthen | tech blog</h1>","metadata":{"starred":true}}]},"f95eb703-210c-49b3-beb0-15704f2a05d3":{"id":"f95eb703-210c-49b3-beb0-15704f2a05d3","index":2,"created_by":"1c161a74-ba5e-40fe-af58-68372397d9f5","updated_by":"1c161a74-ba5e-40fe-af58-68372397d9f5","created_at":"2016-02-16T08:52:04.988Z","updated_at":"2016-02-28T07:55:49.706Z","published":true,"score":0,"path":"_posts/2016-02-16-polling-in-relay.md","_title":"polling in relay","metadata":{"@type":"Article","url":"polling-in-relay/index.html","inLanguage":null,"starred":false,"inFeed":true,"hasPage":true,"inNav":false,"_description":"implementing polling in relayjs","title":"polling in relay","keywords":[]},"content":[{"id":"40ce518b-daed-4b5c-b990-f2992eb9403d","item":"f95eb703-210c-49b3-beb0-15704f2a05d3","type":"text","src":null,"created_at":null,"updated_at":null,"_text":"Click inside to see how I managed to do polling in Relay.","_html":"<p>Click inside to see how I managed to do polling in Relay.</p>","metadata":{"isBasedOnUrl":null,"inLanguage":null,"starred":true,"inFeed":true,"hasPage":false,"inNav":false,"_description":"","keywords":[]}},{"id":"be453fbc-bd13-4474-88ac-d250bb7833a9","item":"f95eb703-210c-49b3-beb0-15704f2a05d3","type":"text","src":null,"created_at":null,"updated_at":null,"_text":"Recently I have been working on a chat related app using Relay + React Native, and came across a problem that has been a show blocker for a week.","_html":"<p>Recently I have been working on a chat related app using Relay + React Native, and came across a problem that has been a show blocker for a week.</p>","metadata":{"isBasedOnUrl":null,"inLanguage":null,"starred":true,"inFeed":true,"hasPage":false,"inNav":false,"_description":"","keywords":[]}},{"id":"c000b282-d7a0-44f4-8ac3-93555f3e9ca0","item":"f95eb703-210c-49b3-beb0-15704f2a05d3","type":"text","src":null,"created_at":null,"updated_at":null,"_text":"Relay has been designed for infinite scrolling rather than pagination. Due to this nature, getting previous chats were easy, but not for getting newest messages. When you get current available messages, Relay assumes there's no more newer messages. An obvious example is Facebook, you can scroll indefinitely down, but you tends to refresh the page to get the back to the top for newer feeds.","_html":"<p>Relay has been designed for infinite scrolling rather than pagination. Due to this nature, getting previous chats were easy, but not for getting newest messages. When you get current available messages, Relay assumes there's no more newer messages. An obvious example is Facebook, you can scroll indefinitely down, but you tends to refresh the page to get the back to the top for newer feeds.</p>","metadata":{"isBasedOnUrl":null,"inLanguage":null,"starred":true,"inFeed":true,"hasPage":false,"inNav":false,"_description":"","keywords":[]}},{"id":"a1094205-41e1-4db3-916b-8205bddbd71d","item":"f95eb703-210c-49b3-beb0-15704f2a05d3","type":"text","src":null,"created_at":null,"updated_at":null,"_text":"However it is not ideal to trigger a forceFetch to get all the data again especially on a mobile device.","_html":"<p>However it is not ideal to trigger a <i>forceFetch</i> to get all the data again especially on a mobile device.</p>","metadata":{"isBasedOnUrl":null,"inLanguage":null,"starred":true,"inFeed":true,"hasPage":false,"inNav":false,"_description":"","keywords":[]}},{"id":"a0110561-9e7e-45df-b9ef-48152bb77b76","item":"f95eb703-210c-49b3-beb0-15704f2a05d3","type":"text","src":null,"created_at":null,"updated_at":null,"_text":"After a week of struggle, the answer was actually quite obvious, which is to use another field, newMessages which returns a list of new messages given a timestamp, together with the original messagesConnection which returns the messages during first load and messages in the past. By having Relay to return two array of data, I have to maintain a copy of the combined data to be displayed.","_html":"<p>After a week of struggle, the answer was actually quite obvious, which is to use another field, <i>newMessages</i> which returns a list of new messages given a timestamp, together with the original <i>messagesConnection</i> which returns the messages during first load and messages in the past. By having Relay to return two array of data, I have to maintain a copy of the combined data to be displayed.</p>","metadata":{"isBasedOnUrl":null,"inLanguage":null,"starred":true,"inFeed":true,"hasPage":false,"inNav":false,"_description":"","keywords":[]}},{"id":"3a772d5f-e325-4033-ba3d-6e0e54dfc55a","item":"f95eb703-210c-49b3-beb0-15704f2a05d3","type":"text","src":null,"created_at":null,"updated_at":null,"_text":"Now, to poll for new messages, I simply supply the timestamp to newMessages at an interval, using Relay's setVariables.","_html":"<p>Now, to poll for new messages, I simply supply the timestamp to <i>newMessages </i>at an interval, using Relay's <i>setVariables.</i></p>","metadata":{"isBasedOnUrl":null,"inLanguage":null,"starred":true,"inFeed":true,"hasPage":false,"inNav":false,"_description":"","keywords":[]}},{"id":"8939e0b8-874d-4b84-86dd-12c9e6b728bf","item":"f95eb703-210c-49b3-beb0-15704f2a05d3","type":"text","src":null,"created_at":null,"updated_at":null,"_text":"See this stackoverflow post for more technical detail.","_html":"<p>See this <a href=\"http://stackoverflow.com/questions/35129716/how-to-fetch-for-new-edge-using-polling-method\">stackoverflow post</a> for more technical detail.</p>","metadata":{"isBasedOnUrl":null,"inLanguage":null,"starred":true,"inFeed":true,"hasPage":false,"inNav":false,"_description":"","keywords":[]}}]},"site-footer-item":{"id":"site-footer-item","index":3,"metadata":{"@type":"footer","starred":true},"content":[{"id":"site-footer-block","type":"footer","_html":"","metadata":{"starred":true},"footer":{"rss":{"href":"rss.xml","rel":"alternate","title":"yaobinthen | tech blog RSS","type":"application/rss+xml"}}}]}},"sections":[{"componentId":"ArticleSiteHeaderFallback","itemsToRenderIds":["header-item-0"],"contracts":{"the-beautician":{"$item_index":1,"sectionsBeautyverse":{"section-height":{"$class":["section-height-fullscreen"]},"text-align":{"$class":["text-align-center"]},"group-order":{"$class":["group-order-normal"]},"group-graphical-shape":{"$class":["group-graphical-shape-none"]}},"$class":["group-graphical-shape-none","group-order-normal","text-align-center","section-height-fullscreen","site:w-multiple-item","nav-general-style","hero-transition-none","section-v-padding-small","section-h-padding-small","Brockmann","site-navigation-item","item:can-cover-filter","item:can-cover-crop","item:can-cover-overlay","item:is-navigation","NavListRowClipped","header-item-0","ArticleSiteHeaderFallback","f95eb703-210c-49b3-beb0-15704f2a05d3","ArticleFallback","site-footer-item","item:is-footer","Footer3col"]},"the-colorist":{"$item_index":1,"colorverse":{"colors-solution":{"color":"black","$class":["colors-black"]},"colors-locality":{"locality":"global","$class":["colors-global"]}},"$class":["colors-global","colors-black","site:colors-global","site:colors-dark"],"colorsSolution":{"isLight":false,"isDark":true,"lightnessClass":"is-dark","base":{"r":0,"g":0,"b":0},"bg":{"r":3,"g":3,"b":3},"box":{"r":0,"g":0,"b":0},"boxShadow":{"r":0,"g":0,"b":0,"a":0.3},"boxPop":{"r":34,"g":79,"b":170},"boxPopText":{"r":255,"g":255,"b":255},"boxPop2":{"r":61,"g":88,"b":143},"boxPop2Text":{"r":255,"g":255,"b":255},"boxPopTextHover":{"r":204,"g":204,"b":204},"boxPop2TextHover":{"r":204,"g":204,"b":204},"boxPopMostVibrant":{"r":54,"g":112,"b":226},"boxPopMostVibrantText":{"r":255,"g":255,"b":255},"selectionText":{"r":255,"g":255,"b":255},"selection":{"r":54,"g":112,"b":226,"a":0.5},"header":{"r":1,"g":1,"b":1},"zebraStripe":{"r":4,"g":4,"b":4},"line":{"r":18,"g":18,"b":19},"mediaBorder":{"css":"1px solid hsl(240, 3%, 7%)","width":1,"type":"solid","color":{"r":18,"g":18,"b":19}},"mediaShadowColor":{"r":0,"g":0,"b":0,"a":0.4},"mediaInsetColor":{"r":255,"g":255,"b":255,"a":0.1},"mediaShadows":[{"css":"0 1px 2px rgba(0, 0, 0, 0.4)","x":0,"y":1,"blur":2,"color":{"r":0,"g":0,"b":0,"a":0.4},"inset":false},{"css":"inset 0 1px 1px rgba(255, 255, 255, 0.1)","x":0,"y":1,"blur":1,"color":{"r":255,"g":255,"b":255,"a":0.1},"inset":true}],"title":{"r":227,"g":228,"b":232},"title2":{"r":159,"g":160,"b":162},"subTitle":{"r":70,"g":72,"b":76},"text":{"r":234,"g":239,"b":251},"text2":{"r":164,"g":167,"b":176},"textShadow":{"r":0,"g":0,"b":0,"a":0.5},"textShadowProps":{"color":{"r":0,"g":0,"b":0,"a":0.5},"x":0,"y":1,"blur":0},"textPop":{"r":186,"g":87,"b":87},"textPop2":{"r":81,"g":116,"b":188},"meta":{"r":70,"g":72,"b":76},"metaHover":{"r":81,"g":83,"b":88},"icon":{"r":186,"g":87,"b":87},"iconSelected":{"r":186,"g":87,"b":87},"iconOver":{"r":186,"g":87,"b":87},"palette":[{"r":248,"g":249,"b":252},{"r":34,"g":79,"b":170},{"r":166,"g":38,"b":38},{"r":61,"g":88,"b":143},{"r":199,"g":202,"b":209}]}},"the-lensman":{"filter":{"$class":["passthrough"],"graph":"passthrough","config":null}},"itemsClasses":["header-item-0","item:can-cover-filter","item:can-cover-crop","item:can-cover-overlay"],"siteClasses":["site:w-multiple-item","nav-general-style","hero-transition-none","section-v-padding-small","section-h-padding-small","Brockmann","site-navigation-item","item:can-cover-filter","item:can-cover-crop","item:can-cover-overlay","item:is-navigation","NavListRowClipped","header-item-0","ArticleSiteHeaderFallback","f95eb703-210c-49b3-beb0-15704f2a05d3","ArticleFallback","site-footer-item","item:is-footer","Footer3col","site:colors-global","site:colors-dark"],"componentClasses":["ArticleSiteHeaderFallback"]},"sectionIndex":0},{"componentId":"ArticleFallback","itemsToRenderIds":["f95eb703-210c-49b3-beb0-15704f2a05d3"],"contracts":{"the-beautician":{"$item_index":2,"sectionsBeautyverse":{"section-height":{"$class":["section-height-fullscreen"]},"text-align":{"$class":["text-align-center"]},"group-order":{"$class":["group-order-normal"]},"group-graphical-shape":{"$class":["group-graphical-shape-circle"]}},"$class":["group-graphical-shape-circle","group-order-normal","text-align-center","section-height-fullscreen","site:w-multiple-item","nav-general-style","hero-transition-none","section-v-padding-small","section-h-padding-small","Brockmann","site-navigation-item","item:can-cover-filter","item:can-cover-crop","item:can-cover-overlay","item:is-navigation","NavListRowClipped","header-item-0","ArticleSiteHeaderFallback","f95eb703-210c-49b3-beb0-15704f2a05d3","ArticleFallback","site-footer-item","item:is-footer","Footer3col"]},"the-colorist":{"$item_index":2,"colorverse":{"colors-solution":{"color":"dark","$class":["colors-dark"]},"colors-locality":{"locality":"global","$class":["colors-global"]}},"$class":["colors-global","colors-dark","site:colors-global","site:colors-dark"],"colorsSolution":{"isLight":false,"isDark":true,"lightnessClass":"is-dark","base":{"r":61,"g":88,"b":143},"bg":{"r":22,"g":28,"b":39},"box":{"r":21,"g":28,"b":40},"boxShadow":{"r":0,"g":0,"b":0,"a":0.3},"boxPop":{"r":34,"g":79,"b":170},"boxPopText":{"r":255,"g":255,"b":255},"boxPop2":{"r":199,"g":202,"b":209},"boxPop2Text":{"r":0,"g":0,"b":0},"boxPopTextHover":{"r":204,"g":204,"b":204},"boxPop2TextHover":{"r":0,"g":0,"b":0},"boxPopMostVibrant":{"r":54,"g":112,"b":226},"boxPopMostVibrantText":{"r":255,"g":255,"b":255},"selectionText":{"r":255,"g":255,"b":255},"selection":{"r":54,"g":112,"b":226,"a":0.5},"header":{"r":21,"g":28,"b":40},"zebraStripe":{"r":24,"g":31,"b":43},"line":{"r":37,"g":44,"b":56},"mediaBorder":{"css":"1px solid hsl(218, 20%, 18%)","width":1,"type":"solid","color":{"r":37,"g":44,"b":56}},"mediaShadowColor":{"r":0,"g":0,"b":0,"a":0.4},"mediaInsetColor":{"r":255,"g":255,"b":255,"a":0.1},"mediaShadows":[{"css":"0 1px 2px rgba(0, 0, 0, 0.4)","x":0,"y":1,"blur":2,"color":{"r":0,"g":0,"b":0,"a":0.4},"inset":false},{"css":"inset 0 1px 1px rgba(255, 255, 255, 0.1)","x":0,"y":1,"blur":1,"color":{"r":255,"g":255,"b":255,"a":0.1},"inset":true}],"title":{"r":227,"g":228,"b":232},"title2":{"r":165,"g":168,"b":174},"subTitle":{"r":85,"g":92,"b":104},"text":{"r":234,"g":239,"b":251},"text2":{"r":170,"g":176,"b":188},"textShadow":{"r":11,"g":14,"b":20,"a":0.5},"textShadowProps":{"color":{"r":11,"g":14,"b":20,"a":0.5},"x":0,"y":1,"blur":0},"textPop":{"r":186,"g":87,"b":87},"textPop2":{"r":81,"g":116,"b":188},"meta":{"r":85,"g":92,"b":104},"metaHover":{"r":99,"g":107,"b":121},"icon":{"r":186,"g":87,"b":87},"iconSelected":{"r":186,"g":87,"b":87},"iconOver":{"r":186,"g":87,"b":87},"palette":[{"r":248,"g":249,"b":252},{"r":34,"g":79,"b":170},{"r":166,"g":38,"b":38},{"r":61,"g":88,"b":143},{"r":199,"g":202,"b":209}]}},"the-lensman":{"filter":{"$class":["passthrough"],"graph":"passthrough","config":null}},"itemsClasses":["f95eb703-210c-49b3-beb0-15704f2a05d3","item:can-cover-filter","item:can-cover-crop","item:can-cover-overlay"],"siteClasses":["site:w-multiple-item","nav-general-style","hero-transition-none","section-v-padding-small","section-h-padding-small","Brockmann","site-navigation-item","item:can-cover-filter","item:can-cover-crop","item:can-cover-overlay","item:is-navigation","NavListRowClipped","header-item-0","ArticleSiteHeaderFallback","f95eb703-210c-49b3-beb0-15704f2a05d3","ArticleFallback","site-footer-item","item:is-footer","Footer3col","site:colors-global","site:colors-dark"],"componentClasses":["ArticleFallback"]},"sectionIndex":1}],"contracts":{"the-typographer":{"typography":{"fonts":{"display":{"$formality":-0.09090909090909094,"$type":["sans","grotesque"],"$weight":3,"$width":1,"$xheight":2,"$contrast":1,"$caps":"normal","license":"ofl","$numbers":"lining","description":"Fjalla One is a medium contrast display sans serif. Fjalla One has been carefully adjusted to the restrictions of the screen. Despite having display characteristics Fjalla One can be used in a wide range of sizes.","foundry":"google","family":"Fjalla","name":"Fjalla","normal":7,"bold":7},"screen":{"foundry":"google","family":"Open Sans","name":"Open Sans","normal":4,"bold":7,"$formality":-0.4545454545454546,"$type":["sans","humanist"],"$weight":2,"$width":2,"$xheight":2,"$contrast":1,"$caps":"normal","license":"apache","$numbers":"lining","description":"Open Sans is an open-source, humanist sans-serif typeface designed by Steve Matteson and released in 2011. The five weights with matching italics make Open Sans extremely versatile and useful for a wide range of applications. It is a ubiquitous font on the web, used by everyone from Google to WordPress. I’ve even heard it referred to as the “flat design” font. I like to think of Open Sans as the new Arial."}},"styles":"html { font-family: '-apple-system', '.SFNSText-Regular', 'San Francisco', 'Roboto', 'Segoe UI', 'Helvetica Neue', 'Lucida Grande', 'sans-serif';font-weight: 400; } html.wf-active { font-family: 'Open Sans', '-apple-system', '.SFNSText-Regular', 'San Francisco', 'Roboto', 'Segoe UI', 'Helvetica Neue', 'Lucida Grande', 'sans-serif';font-weight: 400; } .wf-active .font-title, .wf-active .font-headline, .wf-active .font-h1, .wf-active .font-h2, .wf-active .font-h3 { font-family: 'Fjalla', '-apple-system', '.SFNSText-Regular', 'San Francisco', 'Roboto', 'Segoe UI', 'Helvetica Neue', 'Lucida Grande', 'sans-serif';font-weight: 700; } .wf-active .font-subtitle, .wf-active .font-h4, .wf-active .font-h5, .wf-active .font-h6 { font-family: 'Fjalla', '-apple-system', '.SFNSText-Regular', 'San Francisco', 'Roboto', 'Segoe UI', 'Helvetica Neue', 'Lucida Grande', 'sans-serif';font-weight: 700; } .wf-active .font-text, .wf-active .font-list { font-family: 'Open Sans', '-apple-system', '.SFNSText-Regular', 'San Francisco', 'Roboto', 'Segoe UI', 'Helvetica Neue', 'Lucida Grande', 'sans-serif'; } .wf-active .font-quote { font-family: 'Fjalla', '-apple-system', '.SFNSText-Regular', 'San Francisco', 'Roboto', 'Segoe UI', 'Helvetica Neue', 'Lucida Grande', 'sans-serif';font-weight: 700;font-style: normal; } .wf-active .font-cta { font-family: 'Fjalla', '-apple-system', '.SFNSText-Regular', 'San Francisco', 'Roboto', 'Segoe UI', 'Helvetica Neue', 'Lucida Grande', 'sans-serif'; }","webfontconfig":{"google":{"families":["Fjalla:700,700","Open Sans:400,400italic,700,700italic"]}}},"htmlStyleTagContent":"html { font-family: '-apple-system', '.SFNSText-Regular', 'San Francisco', 'Roboto', 'Segoe UI', 'Helvetica Neue', 'Lucida Grande', 'sans-serif';font-weight: 400; } html.wf-active { font-family: 'Open Sans', '-apple-system', '.SFNSText-Regular', 'San Francisco', 'Roboto', 'Segoe UI', 'Helvetica Neue', 'Lucida Grande', 'sans-serif';font-weight: 400; } .wf-active .font-title, .wf-active .font-headline, .wf-active .font-h1, .wf-active .font-h2, .wf-active .font-h3 { font-family: 'Fjalla', '-apple-system', '.SFNSText-Regular', 'San Francisco', 'Roboto', 'Segoe UI', 'Helvetica Neue', 'Lucida Grande', 'sans-serif';font-weight: 700; } .wf-active .font-subtitle, .wf-active .font-h4, .wf-active .font-h5, .wf-active .font-h6 { font-family: 'Fjalla', '-apple-system', '.SFNSText-Regular', 'San Francisco', 'Roboto', 'Segoe UI', 'Helvetica Neue', 'Lucida Grande', 'sans-serif';font-weight: 700; } .wf-active .font-text, .wf-active .font-list { font-family: 'Open Sans', '-apple-system', '.SFNSText-Regular', 'San Francisco', 'Roboto', 'Segoe UI', 'Helvetica Neue', 'Lucida Grande', 'sans-serif'; } .wf-active .font-quote { font-family: 'Fjalla', '-apple-system', '.SFNSText-Regular', 'San Francisco', 'Roboto', 'Segoe UI', 'Helvetica Neue', 'Lucida Grande', 'sans-serif';font-weight: 700;font-style: normal; } .wf-active .font-cta { font-family: 'Fjalla', '-apple-system', '.SFNSText-Regular', 'San Francisco', 'Roboto', 'Segoe UI', 'Helvetica Neue', 'Lucida Grande', 'sans-serif'; }","htmlScriptTagContent":"\n      if (window.WebFont) {\n        WebFont.load({\"google\":{\"families\":[\"Fjalla:700,700\",\"Open Sans:400,400italic,700,700italic\"]}});\n      }\n    "},"the-beautician":{"$item_index":0,"siteBeautyverse":{"design-style":{"$class":["Brockmann"],"section":{"align":"t-a-c"},"title":{"color":""}},"section-h-padding":{"$class":["section-h-padding-small"]},"section-v-padding":{"$class":["section-v-padding-small"]},"hero-transition":{"$class":["hero-transition-none"]},"navigation-style":{"$class":["nav-general-style"],"css":"m-t-4"}},"$class":["nav-general-style","hero-transition-none","section-v-padding-small","section-h-padding-small","Brockmann","site:w-multiple-item","site-navigation-item","item:can-cover-filter","item:can-cover-crop","item:can-cover-overlay","item:is-navigation","NavListRowClipped","header-item-0","ArticleSiteHeaderFallback","f95eb703-210c-49b3-beb0-15704f2a05d3","ArticleFallback","site-footer-item","item:is-footer","Footer3col"]},"the-colorist":{"$item_index":0,"colorverse":{"colors-solution":{"color":"dark","$class":["colors-dark"]},"colors-locality":{"locality":"global","$class":["colors-global"]}},"$class":["colors-global","colors-dark","site:w-multiple-item"],"colorsSolution":{"isLight":false,"isDark":true,"lightnessClass":"is-dark","base":{"r":61,"g":88,"b":143},"bg":{"r":22,"g":28,"b":39},"box":{"r":21,"g":28,"b":40},"boxShadow":{"r":0,"g":0,"b":0,"a":0.3},"boxPop":{"r":34,"g":79,"b":170},"boxPopText":{"r":255,"g":255,"b":255},"boxPop2":{"r":199,"g":202,"b":209},"boxPop2Text":{"r":0,"g":0,"b":0},"boxPopTextHover":{"r":204,"g":204,"b":204},"boxPop2TextHover":{"r":0,"g":0,"b":0},"boxPopMostVibrant":{"r":54,"g":112,"b":226},"boxPopMostVibrantText":{"r":255,"g":255,"b":255},"selectionText":{"r":255,"g":255,"b":255},"selection":{"r":54,"g":112,"b":226,"a":0.5},"header":{"r":21,"g":28,"b":40},"zebraStripe":{"r":24,"g":31,"b":43},"line":{"r":37,"g":44,"b":56},"mediaBorder":{"css":"1px solid hsl(218, 20%, 18%)","width":1,"type":"solid","color":{"r":37,"g":44,"b":56}},"mediaShadowColor":{"r":0,"g":0,"b":0,"a":0.4},"mediaInsetColor":{"r":255,"g":255,"b":255,"a":0.1},"mediaShadows":[{"css":"0 1px 2px rgba(0, 0, 0, 0.4)","x":0,"y":1,"blur":2,"color":{"r":0,"g":0,"b":0,"a":0.4},"inset":false},{"css":"inset 0 1px 1px rgba(255, 255, 255, 0.1)","x":0,"y":1,"blur":1,"color":{"r":255,"g":255,"b":255,"a":0.1},"inset":true}],"title":{"r":227,"g":228,"b":232},"title2":{"r":165,"g":168,"b":174},"subTitle":{"r":85,"g":92,"b":104},"text":{"r":234,"g":239,"b":251},"text2":{"r":170,"g":176,"b":188},"textShadow":{"r":11,"g":14,"b":20,"a":0.5},"textShadowProps":{"color":{"r":11,"g":14,"b":20,"a":0.5},"x":0,"y":1,"blur":0},"textPop":{"r":186,"g":87,"b":87},"textPop2":{"r":81,"g":116,"b":188},"meta":{"r":85,"g":92,"b":104},"metaHover":{"r":99,"g":107,"b":121},"icon":{"r":186,"g":87,"b":87},"iconSelected":{"r":186,"g":87,"b":87},"iconOver":{"r":186,"g":87,"b":87},"palette":[{"r":248,"g":249,"b":252},{"r":34,"g":79,"b":170},{"r":166,"g":38,"b":38},{"r":61,"g":88,"b":143},{"r":199,"g":202,"b":209}]}}},"siteData":{"id":"a2d98b0d-aebc-4d7a-932e-22d79388cb90","ordered":true,"site":"the-domains/yaobinthen","title":"polling in relay","navigable":false,"type":"permalink","siteUrl":"http://yaobinthen.com/","siteId":"384dbef5-59f8-4392-b628-fbce9afec917","user":"1c161a74-ba5e-40fe-af58-68372397d9f5","config":{"name":"yaobinthen","title":"yaobinthen | tech blog","style":"the-composer","favicon":null,"cta":{"domain":null,"bucket":null,"version":null},"analytics":{"google":"UA-73797886-1","facebook":null,"twitter":null},"opengraph":{"image":null,"type":null,"appId":null},"collections":[{"index":{"path":"/","number":15,"navigable":true,"paginate":true},"feed":{"path":"/rss.xml","format":"rss","number":10},"permalink":{"path":"/:title/"}}],"color":{"brandColors":["#F8F9FC","#224FAA","#A62626","#3D588F","#C7CAD1"],"brandStrength":0.7866171768400818,"lightness":0.5848629521206021,"saturation":0.13629767554812133,"rhythmicContrast":0.4967343534808606},"layout_spectrum":0.61624,"typography_spectrum":0.29682665900327265},"navigation":[{"href":"index.html","title":"yaobinthen | tech blog","rel":"home","type":"MainPage"}],"links":[{"href":"rss.xml","rel":"alternate","title":"yaobinthen | tech blog RSS","type":"application/rss+xml"}]},"navigation":{"componentId":"NavListRowClipped","itemsToRenderIds":["site-navigation-item"],"contracts":{"the-beautician":{"$item_index":0,"sectionsBeautyverse":{"section-height":{"$class":["section-height-fullscreen"]},"text-align":{"$class":["text-align-center"]},"group-order":{"$class":["group-order-normal"]},"group-graphical-shape":{"$class":["group-graphical-shape-none"]}},"$class":["group-graphical-shape-none","group-order-normal","text-align-center","section-height-fullscreen","site:w-multiple-item","nav-general-style","hero-transition-none","section-v-padding-small","section-h-padding-small","Brockmann","site-navigation-item","item:can-cover-filter","item:can-cover-crop","item:can-cover-overlay","item:is-navigation","NavListRowClipped","header-item-0","ArticleSiteHeaderFallback","f95eb703-210c-49b3-beb0-15704f2a05d3","ArticleFallback","site-footer-item","item:is-footer","Footer3col"]},"the-colorist":{"$item_index":0,"colorverse":{"colors-solution":{"color":"dark","$class":["colors-dark"]},"colors-locality":{"locality":"global","$class":["colors-global"]}},"$class":["colors-global","colors-dark","site:colors-global","site:colors-dark"],"colorsSolution":{"isLight":false,"isDark":true,"lightnessClass":"is-dark","base":{"r":61,"g":88,"b":143},"bg":{"r":22,"g":28,"b":39},"box":{"r":21,"g":28,"b":40},"boxShadow":{"r":0,"g":0,"b":0,"a":0.3},"boxPop":{"r":34,"g":79,"b":170},"boxPopText":{"r":255,"g":255,"b":255},"boxPop2":{"r":199,"g":202,"b":209},"boxPop2Text":{"r":0,"g":0,"b":0},"boxPopTextHover":{"r":204,"g":204,"b":204},"boxPop2TextHover":{"r":0,"g":0,"b":0},"boxPopMostVibrant":{"r":54,"g":112,"b":226},"boxPopMostVibrantText":{"r":255,"g":255,"b":255},"selectionText":{"r":255,"g":255,"b":255},"selection":{"r":54,"g":112,"b":226,"a":0.5},"header":{"r":21,"g":28,"b":40},"zebraStripe":{"r":24,"g":31,"b":43},"line":{"r":37,"g":44,"b":56},"mediaBorder":{"css":"1px solid hsl(218, 20%, 18%)","width":1,"type":"solid","color":{"r":37,"g":44,"b":56}},"mediaShadowColor":{"r":0,"g":0,"b":0,"a":0.4},"mediaInsetColor":{"r":255,"g":255,"b":255,"a":0.1},"mediaShadows":[{"css":"0 1px 2px rgba(0, 0, 0, 0.4)","x":0,"y":1,"blur":2,"color":{"r":0,"g":0,"b":0,"a":0.4},"inset":false},{"css":"inset 0 1px 1px rgba(255, 255, 255, 0.1)","x":0,"y":1,"blur":1,"color":{"r":255,"g":255,"b":255,"a":0.1},"inset":true}],"title":{"r":227,"g":228,"b":232},"title2":{"r":165,"g":168,"b":174},"subTitle":{"r":85,"g":92,"b":104},"text":{"r":234,"g":239,"b":251},"text2":{"r":170,"g":176,"b":188},"textShadow":{"r":11,"g":14,"b":20,"a":0.5},"textShadowProps":{"color":{"r":11,"g":14,"b":20,"a":0.5},"x":0,"y":1,"blur":0},"textPop":{"r":186,"g":87,"b":87},"textPop2":{"r":81,"g":116,"b":188},"meta":{"r":85,"g":92,"b":104},"metaHover":{"r":99,"g":107,"b":121},"icon":{"r":186,"g":87,"b":87},"iconSelected":{"r":186,"g":87,"b":87},"iconOver":{"r":186,"g":87,"b":87},"palette":[{"r":248,"g":249,"b":252},{"r":34,"g":79,"b":170},{"r":166,"g":38,"b":38},{"r":61,"g":88,"b":143},{"r":199,"g":202,"b":209}]}},"the-lensman":{"filter":{"$class":["passthrough"],"graph":"passthrough","config":null}},"itemsClasses":["site-navigation-item","item:can-cover-filter","item:can-cover-crop","item:can-cover-overlay","item:is-navigation"],"siteClasses":["site:w-multiple-item","nav-general-style","hero-transition-none","section-v-padding-small","section-h-padding-small","Brockmann","site-navigation-item","item:can-cover-filter","item:can-cover-crop","item:can-cover-overlay","item:is-navigation","NavListRowClipped","header-item-0","ArticleSiteHeaderFallback","f95eb703-210c-49b3-beb0-15704f2a05d3","ArticleFallback","site-footer-item","item:is-footer","Footer3col","site:colors-global","site:colors-dark"],"componentClasses":["NavListRowClipped"]}},"footer":{"componentId":"Footer3col","itemsToRenderIds":["site-footer-item"],"contracts":{"the-beautician":{"$item_index":3,"sectionsBeautyverse":{"section-height":{"$class":["section-height-fullscreen"]},"text-align":{"$class":["text-align-center"]},"group-order":{"$class":["group-order-normal"]},"group-graphical-shape":{"$class":["group-graphical-shape-circle"]}},"$class":["group-graphical-shape-circle","group-order-normal","text-align-center","section-height-fullscreen","site:w-multiple-item","nav-general-style","hero-transition-none","section-v-padding-small","section-h-padding-small","Brockmann","site-navigation-item","item:can-cover-filter","item:can-cover-crop","item:can-cover-overlay","item:is-navigation","NavListRowClipped","header-item-0","ArticleSiteHeaderFallback","f95eb703-210c-49b3-beb0-15704f2a05d3","ArticleFallback","site-footer-item","item:is-footer","Footer3col"]},"the-colorist":{"$item_index":3,"colorverse":{"colors-solution":{"color":"black","$class":["colors-black"]},"colors-locality":{"locality":"local","$class":["colors-local"]}},"$class":["colors-local","colors-black","site:colors-global","site:colors-dark"],"colorsSolution":{"isLight":false,"isDark":true,"lightnessClass":"is-dark","base":{"r":0,"g":0,"b":0},"bg":{"r":3,"g":3,"b":3},"box":{"r":0,"g":0,"b":0},"boxShadow":{"r":0,"g":0,"b":0,"a":0.3},"boxPop":{"r":34,"g":79,"b":170},"boxPopText":{"r":255,"g":255,"b":255},"boxPop2":{"r":61,"g":88,"b":143},"boxPop2Text":{"r":255,"g":255,"b":255},"boxPopTextHover":{"r":204,"g":204,"b":204},"boxPop2TextHover":{"r":204,"g":204,"b":204},"boxPopMostVibrant":{"r":54,"g":112,"b":226},"boxPopMostVibrantText":{"r":255,"g":255,"b":255},"selectionText":{"r":255,"g":255,"b":255},"selection":{"r":54,"g":112,"b":226,"a":0.5},"header":{"r":1,"g":1,"b":1},"zebraStripe":{"r":4,"g":4,"b":4},"line":{"r":18,"g":18,"b":19},"mediaBorder":{"css":"1px solid hsl(240, 3%, 7%)","width":1,"type":"solid","color":{"r":18,"g":18,"b":19}},"mediaShadowColor":{"r":0,"g":0,"b":0,"a":0.4},"mediaInsetColor":{"r":255,"g":255,"b":255,"a":0.1},"mediaShadows":[{"css":"0 1px 2px rgba(0, 0, 0, 0.4)","x":0,"y":1,"blur":2,"color":{"r":0,"g":0,"b":0,"a":0.4},"inset":false},{"css":"inset 0 1px 1px rgba(255, 255, 255, 0.1)","x":0,"y":1,"blur":1,"color":{"r":255,"g":255,"b":255,"a":0.1},"inset":true}],"title":{"r":227,"g":228,"b":232},"title2":{"r":159,"g":160,"b":162},"subTitle":{"r":70,"g":72,"b":76},"text":{"r":234,"g":239,"b":251},"text2":{"r":164,"g":167,"b":176},"textShadow":{"r":0,"g":0,"b":0,"a":0.5},"textShadowProps":{"color":{"r":0,"g":0,"b":0,"a":0.5},"x":0,"y":1,"blur":0},"textPop":{"r":186,"g":87,"b":87},"textPop2":{"r":81,"g":116,"b":188},"meta":{"r":70,"g":72,"b":76},"metaHover":{"r":81,"g":83,"b":88},"icon":{"r":186,"g":87,"b":87},"iconSelected":{"r":186,"g":87,"b":87},"iconOver":{"r":186,"g":87,"b":87},"palette":[{"r":248,"g":249,"b":252},{"r":34,"g":79,"b":170},{"r":166,"g":38,"b":38},{"r":61,"g":88,"b":143},{"r":199,"g":202,"b":209}]}},"the-lensman":{"filter":{"$class":["insta_1977"],"graph":"insta_1977","config":null}},"itemsClasses":["site-footer-item","item:can-cover-filter","item:can-cover-crop","item:can-cover-overlay","item:is-footer"],"siteClasses":["site:w-multiple-item","nav-general-style","hero-transition-none","section-v-padding-small","section-h-padding-small","Brockmann","site-navigation-item","item:can-cover-filter","item:can-cover-crop","item:can-cover-overlay","item:is-navigation","NavListRowClipped","header-item-0","ArticleSiteHeaderFallback","f95eb703-210c-49b3-beb0-15704f2a05d3","ArticleFallback","site-footer-item","item:is-footer","Footer3col","site:colors-global","site:colors-dark"],"componentClasses":["Footer3col"]}}}</script><script id="renderer" src="https://cdn.thegrid.io/design-systems/the-composer/ds-nj/v1.1.11/ds-renderer.js"></script><script id="web-font-loader">
      if (window.WebFont) {
        WebFont.load({"google":{"families":["Fjalla:700,700","Open Sans:400,400italic,700,700italic"]}});
      }
    </script></body></html>